<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<head>
    <title>Snippets documentation</title>
    <link rel="stylesheet" href="../ldoc.css" type="text/css" />
</head>
<body>

<div id="container">

<div id="product">
	<div id="product_logo"></div>
	<div id="product_name"><big><b></b></big></div>
	<div id="product_description"></div>
</div> <!-- id="product" -->


<div id="main">


<!-- Menu -->

<div id="navigation">
<br/>
<h1>Corona SDK snippets</h1>

<ul>
  <li><a href="../api.html">Index</a></li>
</ul>

<h2>Contents</h2>
<ul>
<li><a href="#Functions">Functions</a></li>
</ul>


<h2>Modules</h2>
<ul>
  <li><a href="../modules/DEBUG.html">DEBUG</a></li>
  <li><a href="../modules/array_ops.html">array_ops</a></li>
  <li><a href="../modules/bitwise_ops.html">bitwise_ops</a></li>
  <li><a href="../modules/bound_args.html">bound_args</a></li>
  <li><a href="../modules/cache_ops.html">cache_ops</a></li>
  <li><a href="../modules/class.html">class</a></li>
  <li><a href="../modules/class.Timer.html">class.Timer</a></li>
  <li><a href="../modules/coroutine_ex.html">coroutine_ex</a></li>
  <li><a href="../modules/dot.Switch.html">dot.Switch</a></li>
  <li><a href="../modules/dot.Warp.html">dot.Warp</a></li>
  <li><a href="../modules/editor.Common.html">editor.Common</a></li>
  <li><a href="../modules/editor.Dialog.html">editor.Dialog</a></li>
  <li><a href="../modules/editor.Dots.html">editor.Dots</a></li>
  <li><a href="../modules/editor.EventBlocks.html">editor.EventBlocks</a></li>
  <li><a href="../modules/editor.Events.html">editor.Events</a></li>
  <li><a href="../modules/editor.General.html">editor.General</a></li>
  <li><a href="../modules/editor.Grid.html">editor.Grid</a></li>
  <li><a href="../modules/editor.Ops.html">editor.Ops</a></li>
  <li><a href="../modules/editor.Settings.html">editor.Settings</a></li>
  <li><a href="../modules/editor.Tiles.html">editor.Tiles</a></li>
  <li><a href="../modules/effect.Balloons.html">effect.Balloons</a></li>
  <li><a href="../modules/effect.Curves.html">effect.Curves</a></li>
  <li><a href="../modules/effect.Fillers.html">effect.Fillers</a></li>
  <li><a href="../modules/effect.Generators.html">effect.Generators</a></li>
  <li><a href="../modules/effect.Glow.html">effect.Glow</a></li>
  <li><a href="../modules/effect.Markers.html">effect.Markers</a></li>
  <li><a href="../modules/effect.Shadows.html">effect.Shadows</a></li>
  <li><a href="../modules/effect.Snowfall.html">effect.Snowfall</a></li>
  <li><a href="../modules/effect.Stars.html">effect.Stars</a></li>
  <li><a href="../modules/effect.Stash.html">effect.Stash</a></li>
  <li><a href="../modules/errors.html">errors</a></li>
  <li><a href="../modules/event_block.Maze.html">event_block.Maze</a></li>
  <li><a href="../modules/exception.html">exception</a></li>
  <li><a href="../modules/fibonacci_heap.html">fibonacci_heap</a></li>
  <li><a href="../modules/fill.Circle.html">fill.Circle</a></li>
  <li><a href="../modules/fill.Hilbert.html">fill.Hilbert</a></li>
  <li><a href="../modules/fill.MarchingSquares.html">fill.MarchingSquares</a></li>
  <li><strong>flow_bodies</strong></li>
  <li><a href="../modules/flow_ops.html">flow_ops</a></li>
  <li><a href="../modules/func_ops.html">func_ops</a></li>
  <li><a href="../modules/game.AI.html">game.AI</a></li>
  <li><a href="../modules/game.Audio.html">game.Audio</a></li>
  <li><a href="../modules/game.Collision.html">game.Collision</a></li>
  <li><a href="../modules/game.Controls.html">game.Controls</a></li>
  <li><a href="../modules/game.DispatchList.html">game.DispatchList</a></li>
  <li><a href="../modules/game.Dots.html">game.Dots</a></li>
  <li><a href="../modules/game.EventBlocks.html">game.EventBlocks</a></li>
  <li><a href="../modules/game.FX.html">game.FX</a></li>
  <li><a href="../modules/game.Frames.html">game.Frames</a></li>
  <li><a href="../modules/game.LevelMap.html">game.LevelMap</a></li>
  <li><a href="../modules/game.LevelsList.html">game.LevelsList</a></li>
  <li><a href="../modules/game.Movement.html">game.Movement</a></li>
  <li><a href="../modules/game.PathUtils.html">game.PathUtils</a></li>
  <li><a href="../modules/game.Pathing.html">game.Pathing</a></li>
  <li><a href="../modules/game.Persistence.html">game.Persistence</a></li>
  <li><a href="../modules/game.Player.html">game.Player</a></li>
  <li><a href="../modules/game.Scenes.html">game.Scenes</a></li>
  <li><a href="../modules/game.Scrolling.html">game.Scrolling</a></li>
  <li><a href="../modules/game.TileFlags.html">game.TileFlags</a></li>
  <li><a href="../modules/game.TileMaps.html">game.TileMaps</a></li>
  <li><a href="../modules/game.Timers.html">game.Timers</a></li>
  <li><a href="../modules/game.Transitions.html">game.Transitions</a></li>
  <li><a href="../modules/geom2d_ops.html">geom2d_ops</a></li>
  <li><a href="../modules/grid_iterators.html">grid_iterators</a></li>
  <li><a href="../modules/heap_utils.html">heap_utils</a></li>
  <li><a href="../modules/index_ops.html">index_ops</a></li>
  <li><a href="../modules/iterators.html">iterators</a></li>
  <li><a href="../modules/lazy_tables.html">lazy_tables</a></li>
  <li><a href="../modules/main.html">main</a></li>
  <li><a href="../modules/mwc_rng.html">mwc_rng</a></li>
  <li><a href="../modules/numeric_ops.html">numeric_ops</a></li>
  <li><a href="../modules/pairing_heap.html">pairing_heap</a></li>
  <li><a href="../modules/per_coroutine_ops.html">per_coroutine_ops</a></li>
  <li><a href="../modules/proxy.html">proxy</a></li>
  <li><a href="../modules/samples.Curves.html">samples.Curves</a></li>
  <li><a href="../modules/samples.Hilbert.html">samples.Hilbert</a></li>
  <li><a href="../modules/samples.Hop.html">samples.Hop</a></li>
  <li><a href="../modules/samples.Marching.html">samples.Marching</a></li>
  <li><a href="../modules/samples.Nodes.html">samples.Nodes</a></li>
  <li><a href="../modules/samples.SlowMo.html">samples.SlowMo</a></li>
  <li><a href="../modules/samples.Snowfall.html">samples.Snowfall</a></li>
  <li><a href="../modules/samples.Thoughts.html">samples.Thoughts</a></li>
  <li><a href="../modules/samples.Tiling.html">samples.Tiling</a></li>
  <li><a href="../modules/samples.Timers.html">samples.Timers</a></li>
  <li><a href="../modules/scene.Choices.html">scene.Choices</a></li>
  <li><a href="../modules/scene.EditorSetup.html">scene.EditorSetup</a></li>
  <li><a href="../modules/scene.Intro.html">scene.Intro</a></li>
  <li><a href="../modules/scene.Level.html">scene.Level</a></li>
  <li><a href="../modules/scene.MapEditor.html">scene.MapEditor</a></li>
  <li><a href="../modules/scene.Options.html">scene.Options</a></li>
  <li><a href="../modules/simplex_noise.html">simplex_noise</a></li>
  <li><a href="../modules/skew_heap.html">skew_heap</a></li>
  <li><a href="../modules/soft_heap.html">soft_heap</a></li>
  <li><a href="../modules/table_ops.html">table_ops</a></li>
  <li><a href="../modules/tiles.TreeBG.html">tiles.TreeBG</a></li>
  <li><a href="../modules/ui.Button.html">ui.Button</a></li>
  <li><a href="../modules/ui.Checkbox.html">ui.Checkbox</a></li>
  <li><a href="../modules/ui.Color.html">ui.Color</a></li>
  <li><a href="../modules/ui.Grid1D.html">ui.Grid1D</a></li>
  <li><a href="../modules/ui.Grid2D.html">ui.Grid2D</a></li>
  <li><a href="../modules/ui.Keyboard.html">ui.Keyboard</a></li>
  <li><a href="../modules/ui.Layout.html">ui.Layout</a></li>
  <li><a href="../modules/ui.Lines.html">ui.Lines</a></li>
  <li><a href="../modules/ui.Sheet.html">ui.Sheet</a></li>
  <li><a href="../modules/ui.Skin.html">ui.Skin</a></li>
  <li><a href="../modules/ui.Touch.html">ui.Touch</a></li>
  <li><a href="../modules/ui.Utils.html">ui.Utils</a></li>
  <li><a href="../modules/utils.html">utils</a></li>
  <li><a href="../modules/var_dump.html">var_dump</a></li>
  <li><a href="../modules/var_ops.html">var_ops</a></li>
  <li><a href="../modules/var_preds.html">var_preds</a></li>
</ul>

</div>

<div id="content">

<h1>Module <code>flow_bodies</code></h1>

<p>This module defines bodies used to build control-flow operations, e.g.</p>
<p> <a href="../modules/flow_ops.html#">flow_ops</a>.</p>

<h2><a href="#Functions">Functions</a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#Body">Body&nbsp;(update, done, config, arg1, arg2, arg3)</a></td>
	<td class="summary">Body for control-flow operations.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Body_Timed">Body_Timed&nbsp;(update, done, config, arg1, arg2, arg3)</a></td>
	<td class="summary">Timed variant of <a href="../modules/flow_bodies.html#Body">Body</a>.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#SetTimeLapseFuncs">SetTimeLapseFuncs&nbsp;(lapse, deduct)</a></td>
	<td class="summary">Assigns the time lapse functions used by <a href="../modules/flow_bodies.html#Body_Timed">Body_Timed</a>.</td>
	</tr>
</table>

<br/>
<br/>


    <h2><a name="Functions"></a>Functions</h2>
    
    <dl class="function">
    <dt>
    <a name = "Body"></a>
    <strong>Body&nbsp;(update, done, config, arg1, arg2, arg3)</strong>
    </dt>
    <dd>
    Body for control-flow operations. </p>

<p> Once invoked, this will spin on a test / update loop until told to terminate. On each
 iteration, if it did not terminate, it will yield.

    <h3>Parameters:</h3>
    <ul>
       <li><code><em>update</em></code>: <strong>callable</strong>  Update logic, called as</p>
<pre><code>result = update(arg1, arg2, arg3)
</code></pre>
<p> after <em>done</em>. If <strong>nil</strong>, this is a no-op.</p>

<p> If <em>result</em> is <strong>"done"</strong>, the body will terminate early.</li>
       <li><code><em>done</em></code>: <strong>callable</strong>  Test, with same signature as <em>update</em>, called on each iteration. When
 <em>result</em> resolves to true (by default, if it is true), the loop terminates.</li>
       <li><code><em>config</em></code>: <a href="http://www.lua.org/manual/5.1/manual.html#5.5">table</a>  Configuration parameters.</p>

<p> If the <strong>negate_done</strong> field is true, the <em>result</em> from <em>done</em> is negated, i.e. instead
 of "until test passes" the loop is interpreted as "while test passes", and vice versa.</p>

<p> If a <strong>yvalue</strong> field is present, this value is yielded after each iteration. If absent,
 this defaults to <strong>"keep"</strong>, as a convenience for coroutine-based ??? tasks.</li>
       <li><code><em>arg1</em></code>:  Argument #1.</li>
       <li><code><em>arg2</em></code>:  Argument #2.</li>
       <li><code><em>arg3</em></code>:  Argument #3.</li>
    </ul>


    <h3>Returns:</h3>
    <ol>
        <strong>boolean</strong> Operation completed normally, i.e. <em>done</em> resolved true?
    </ol>


</dd>
    <dt>
    <a name = "Body_Timed"></a>
    <strong>Body_Timed&nbsp;(update, done, config, arg1, arg2, arg3)</strong>
    </dt>
    <dd>
    Timed variant of <a href="../modules/flow_bodies.html#Body">Body</a>. </p>

<p> The current time lapse behavior at the time of the call will be used throughout the body,
 even if <a href="../modules/flow_bodies.html#SetTimeLapseFuncs">SetTimeLapseFuncs</a> is called again before the body has concluded.</p>

<p> Logically, this body maintains a counter, <em>time</em>, which begins at 0. On each iteration,
 time lapse function is polled for a value, <em>lapse</em>, &ge; 0. After test / update, if the
 body-based operation has not concluded, <em>time</em> will be incremented by <em>lapse</em> (possibly
 reduced by <em>update</em> and / or <em>done</em>), just before the body yields for that iteration.</p>

<p> On each iteration, the final value of <em>lapse</em> will also be deducted from the "time bank",
 before yielding or returning.

    <h3>Parameters:</h3>
    <ul>
       <li><code><em>update</em></code>: <strong>callable</strong> 
<p> As per <a href="../modules/flow_bodies.html#Body">Body</a>, but called as</p>
<pre><code>result, true_lapse = update(time_state, arg1, arg2, arg3).
</code></pre>
<p> If <em>result</em> is <strong>"done"</strong>, <em>true_lapse</em> is also considered. If present, it indicates how
 much time actually passed before the update terminated, and will replace the current time
 lapse (assuming it is a shorter lapse and non-negative).</p>

<p> <em>time_state</em> is a table with the following fields:</p>

<ul>
    <li><strong>time</strong>: The current value of <em>time</em>.</li>
    <li><strong>lapse</strong>: The current value of <em>lapse</em> (possibly reduced by <em>done</em>).</li>
</ul>
</li>
       <li><code><em>done</em></code>: <strong>callable</strong>  Test performed on each iteration, called as</p>
<pre><code>is_done[, true_lapse] = done([time_state, ]arg1, arg2, arg3).
</code></pre>
<p> If <em>is_done</em> is true, the loop is ready to terminate. In that case, <em>true_lapse</em> may
 also be considered, as per <em>update</em>; otherwise, the amount is assumed to be 0, i.e. the
 loop terminated instantly. If <em>true_lapse</em> &gt; 0, <em>update</em> will still be called, using
 the narrowed time lapse.</p>

<p> <em>time_state</em> is as per <em>update</em>, except the <strong>lapse</strong> amount will be the initial value
 for the current iteration.</li>
       <li><code><em>config</em></code>: <a href="http://www.lua.org/manual/5.1/manual.html#5.5">table</a>  As per <a href="../modules/flow_bodies.html#Body">Body</a>, though a <strong>use_time</strong> field is also examined. If this is
 true, <em>done</em> accepts the <em>time_state</em> argument and handles <em>true_lapse</em> on termination.</li>
       <li><code><em>arg1</em></code>:  Argument #1.</li>
       <li><code><em>arg2</em></code>:  Argument #2.</li>
       <li><code><em>arg3</em></code>:  Argument #3.</li>
    </ul>


    <h3>Returns:</h3>
    <ol>
        <strong>boolean</strong> Operation concluded normally?
    </ol>


</dd>
    <dt>
    <a name = "SetTimeLapseFuncs"></a>
    <strong>SetTimeLapseFuncs&nbsp;(lapse, deduct)</strong>
    </dt>
    <dd>
    Assigns the time lapse functions used by <a href="../modules/flow_bodies.html#Body_Timed">Body_Timed</a>. </p>

<p> The lapse function tells us how much time is available <strong>right now</strong> to run a timed body
 operation. It may be the case that all of that time was not needed: in these cases, a
 useful abstraction is a "time bank", where the lapse function reports the "balance"
 (typically, the entire time slice), and the deduct function is told how much was actually
 needed, which will be the amount "withdrawn".</p>

<p> In this way, say, a 10-millisecond wait need not consume a 100-millisecond time slice,
 and indeed two consecutive 10-millisecond waits could run in the same slice (with the
 lapse reporting first 100 and then 90 milliseconds).</p>

<p> No unit of time is enforced: users are responsible for ensuring consistency.

    <h3>Parameters:</h3>
    <ul>
       <li><code><em>lapse</em></code>: <strong>callable</strong>  Lapse function to assign, which returns a time lapse as a non-negative
 number; or <strong>nil</strong> to restore the default (which returns 0).</li>
       <li><code><em>deduct</em></code>: <strong>callable</strong>  Deduct function to assign, which accepts a non-negative lapse amount
 and deducts it from the "time bank"; or <strong>nil</strong> to restore the default (a no-op).</li>
    </ul>




</dd>
</dl>


</div> <!-- id="content" -->
</div> <!-- id="main" -->
<div id="about">
<i>generated by <a href="http://github.com/stevedonovan/LDoc">LDoc 1.2</a></i>
</div> <!-- id="about" -->
</div> <!-- id="container" -->
</body>
</html>
